@model IEnumerable<VaccineWebApp.Models.VaccineModel>

<head>
    <link rel="stylesheet" href="~/css/VaccineHome.css" asp-append-version="true" />
</head>

<div class="container p-3">
    <div class="row pt-4">
        <div class="col-6">
            <hr />
            <h2 style="color: black">List of Vaccines</h2>
            <hr />
        </div>
        <div class="col-6 text-right">
            <a class="btn btn-outline-primary-light" id="btnDashboard" asp-controller="Vaccine" asp-action="Dashboard">Display Dashboard</a>
            <a asp-controller="Vaccine" asp-action="Create" class="btn btn-primary">Add New Vaccine</a>
        </div>
    </div>
    <br />


    @if (Model.Count() > 0)
    {
        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for Vaccine names..">
        <table id="myTable" class="table table-bordered table-striped" style="width:100%">
            <thead>
                <tr>
                    <th>Vaccine Name</th>
                    <th>Doses Needed</th>
                    <th>Quantity</th>
                    <th>Low Quantity</th>
                    <th>Vaccine Type Name</th>
                    <th>Medical Aid Accepted</th>
                    <th>Vaccine Price</th>
                    <th>Update Vaccine</th>
                    <th>Delete Vaccine</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var vaccine in Model)
                {
                    <tr>
                        <td width="30%">@vaccine.Name</td>
                        <td width="10%">@vaccine.DosesNeeded</td>
                        <td width="10%">@vaccine.Quantity</td>
                        <td width="10%">@vaccine.LowQuantity</td>
                        <td width="10%">@vaccine.TypeName</td>
                        <td width="10%">@vaccine.MedAidNo</td>
                        <td width="10%">@vaccine.Price</td>
                        <td width="5%" style="text-align: right;">
                            <div class="btn-group" role="group">
                                <a asp-controller="Vaccine" asp-action="Update" asp-route-ID="@vaccine.VaccineID" class="btn btn-primary">Update Vaccine</a>
                            </div>
                        </td>
                        <td width="5%" style="text-align: left;">
                            <div class="btn-group" role="group">
                                <a asp-controller="Vaccine" asp-action="Delete" asp-route-ID="@vaccine.VaccineID" class="btn btn-primary">🗑</a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>No Vaccines were added yet</p>
    }
</div>

<hr />

<div class="col">
    <div class="card my-3" id="patient-portal-dashboard-card-useful-links">
        <div class="card-header">
            <h2>Useful Links</h2>
        </div>
        <div class="card-body p-0">
            <table class="table w-100 table-dashboard-middle">
                <tbody>
                    <tr height="50%">
                        <td class="text-center border-right pt-3" width="33%">
                            <h3 class="text-transform-none">Vaccine Bookings</h3>
                            <p>To Display the Vaccine Bookings that were made for patients</p>
                            <a class="btn btn-outline-primary-light" id="btnVaccineBooking" asp-controller="VaccineBooking" asp-action="HomeBooking">
                                Display Vaccine Bookings
                            </a>
                        </td>
                        <td class="text-center border-right pt-3" width="33%">
                            <h3 class="text-transform-none">Vaccine Types</h3>
                            <p>Find the Different Vaccine Types offered at the Facility here</p>
                            <a class="btn btn-outline-primary-light" id="btnVaccineType" asp-controller="VaccineType" asp-action="HomeVaccineType">
                                Display Vaccine Types
                            </a>
                        </td>
                        <td class="text-center pt-3" width="33%">
                            <h3 class="text-transform-none">Patient & Vaccine Details</h3>
                            <p>To check whether a patient has received a specific vaccine at the facility before</p>
                            <a class="btn btn-outline-primary-light" id="btnPatientVac" asp-controller="PatientVaccineDetails" asp-action="HomePatientVaccine">
                                Display Patient and Vaccine Details
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<hr />
<section class="faq-section section-padding" id="section_4">
    <div class="container">
        <div class="row">

            <div class="col-lg-6 col-12">
                <hr />
                <h2 class="mb-4" style="color: black">Frequently Asked Questions about Vaccines</h2>
                <hr />
            </div>

            <div class="clearfix"></div>

            <div class="col-lg-5 col-12">
                <img src="~/css/Elivis.jpg" class="img-fluid" alt="FAQs">
            </div>

            <div class="col-lg-6 col-12 m-auto">
                <div class="accordion" id="accordionExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                Are vaccines safe?
                            </button>
                        </h2>

                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample" style="">
                            <div class="accordion-body">
                                Vaccines are very safe. Your child is far more likely to be hurt by a vaccine-preventable disease than by a vaccine. All vaccines go through rigorous safety testing, including clinical trials, before they are approved for the public. Countries will only register and distribute vaccines that meet rigorous quality and safety standards.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Why are vaccines important?
                            </button>
                        </h2>

                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample" style="">
                            <div class="accordion-body">
                                Vaccines save lives – 2 to 3 million per year, in fact.

                                Vaccines will help protect your child against diseases that can cause serious harm or death, especially in people with developing immune systems like infants.

                                It’s important to vaccinate your child. If not, highly contagious diseases such as measles, diphtheria and polio, which were once wiped out in many countries, will come back.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Can my baby handle all of these vaccines?
                            </button>
                        </h2>

                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample" style="">
                            <div class="accordion-body">
                                Yes. Many parents worry that multiple vaccines will overload their child’s immune system. But children are exposed to hundreds of germs every day. In fact, a common cold or sore throat will put a greater burden on your child’s immune system than vaccines.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<script>
    function myFunction() {
        // Declare variables
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");

        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
</script>
